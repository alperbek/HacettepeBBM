; Kesilme vektör asresleri
I20VCT	EQU	0080H	
I21VCT	EQU	0084H
I22VCT	EQU	0088H
I23VCT	EQU	008CH
I24VCT	EQU	0090H
I27VCT	EQU	009CH


ORG	300H

	CLI
	MOV	DX, DS		; DS 'i DX de sakla
	MOV	AX, 0000H	
	MOV	DS, AX		; DS 000h'i göstersin
	
	;Kesilme vektor tablosu burada hazirlaniyor
	;INTERRUPT VECTOR TABLOSU
	MOV	WORD PTR DS:I20VCT, 0600H
	MOV	WORD PTR DS:I20VCT + 2, 0080H
	MOV	WORD PTR DS:I21VCT, 0700H
	MOV	WORD PTR DS:I21VCT + 2, 0080H
	MOV	WORD PTR DS:I22VCT, 0800H
	MOV	WORD PTR DS:I22VCT + 2, 0080H
	MOV	WORD PTR DS:I23VCT, 0800H
	MOV	WORD PTR DS:I23VCT + 2, 0080H
	MOV	WORD PTR DS:I24VCT, 0800H
	MOV	WORD PTR DS:I24VCT + 2, 0080H
	MOV	WORD PTR DS:I27VCT, 0800H
	MOV	WORD PTR DS:I27VCT + 2, 0080H

	MOV	DS, DX		; DS'i eski deðerine getir
	
	MOV	AH, 02H
	MOV	BL, 03H
	MOV	CX, 8
	MOV	DI, OFFSET STR1
	INT	28H
	STI 
DONGU:	JMP DONGU

	;IRQ 0
	ORG	0600H
	MOV	AH, 02H
	MOV	BL, 03H
	MOV	CX, 8
	MOV	DI, OFFSET STR2
	INT	28H
	MOV	AL, 20H		
	OUT	40H, AL 	; Kesilme tamamlandý belirteci
	IRET
	  
	; IRQ 1
	ORG	0700H
	MOV	AH, 02H
	MOV	BL, 03H
	MOV	CX, 8
	MOV	DI, OFFSET STR3
	INT	28H
	STI			 
KISIR:	JMP KISIR		; Çeþitli denemeler için
	MOV	AL, 20H		
	OUT	40H, AL		
	IRET			

	; THE OTHERS - BRUCE WILLS :)
	ORG	0800H
	MOV	AH, 02H
	MOV	BL, 03H
	MOV	CX, 8
	MOV	DI, OFFSET STR4
	INT	28H
	MOV	AL, 20H
	OUT	40H, AL
	;STI

	IRET
	
STR1	DB "NO INT  "
STR2	DB "IR0     "
STR3	DB "IR1     "
STR4	DB "OTHERS  "

	END